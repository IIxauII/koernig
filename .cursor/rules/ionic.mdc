---
description: Ionic 8+ best practices for mobile development, including component patterns, navigation, and platform-specific considerations
globs: ["apps/mobile/**/*.{ts,html,scss}"]
alwaysApply: false
---

# Ionic Best Practices

This project uses Ionic 8+ with Angular for cross-platform mobile development.

## Ionic Components

* **Use Ionic Components:** Prefer Ionic components over native HTML elements for consistent mobile UI/UX.
* **Ionic Pages:** Use `@IonicPage()` decorator pattern for pages. Pages should be standalone components.
* **Ionic Lifecycle Hooks:** Use Ionic lifecycle hooks (`ionViewWillEnter`, `ionViewDidEnter`, `ionViewWillLeave`, `ionViewDidLeave`) for page-specific logic instead of Angular lifecycle hooks when appropriate.

## Navigation

* **Ionic Router:** Use Angular Router with Ionic's navigation system. Prefer programmatic navigation over template-based navigation for complex flows.
* **Lazy Loading:** Implement lazy loading for routes to improve initial load performance.
* **Deep Linking:** Ensure all routes support deep linking for proper mobile app behavior.

## Styling

* **Ionic Variables:** Use Ionic CSS variables from `src/theme/variables.scss` for theming and consistent styling.
* **SCSS:** Use SCSS for component styles. Leverage Ionic's utility classes when possible.
* **Responsive Design:** Design for mobile-first, ensuring touch-friendly interfaces (minimum 44x44px touch targets).

## Platform Considerations

* **Capacitor Integration:** Use Capacitor plugins for native functionality. Always check platform availability before using native features.
* **Platform Detection:** Use `@capacitor/core` Platform utilities to detect iOS/Android/Web platforms when needed.
* **Status Bar:** Configure status bar styling appropriately for iOS and Android.

## Performance

* **Virtual Scrolling:** Use `ion-virtual-scroll` or Angular's `@for` with `trackBy` for large lists.
* **Image Optimization:** Use `NgOptimizedImage` or Ionic's image components with lazy loading.
* **Lazy Loading:** Implement lazy loading for images and components that are not immediately visible.

## Forms

* **Ionic Form Components:** Use Ionic form components (`ion-input`, `ion-select`, `ion-checkbox`, etc.) with Angular Reactive Forms.
* **Validation:** Provide clear validation feedback using Ionic's form validation patterns.
* **Keyboard Handling:** Handle keyboard appearance/disappearance appropriately, especially on iOS.

## Storage

* **Ionic Storage:** Use Ionic Storage service (not direct SQLite) for data persistence. This provides automatic fallback chain:
  - Primary: SQLite (via Capacitor)
  - Fallback 1: IndexedDB
  - Fallback 2: LocalStorage
* **Storage Service:** Access storage through a centralized service, not directly in components.

## Testing

* **Mobile Testing:** Test on actual devices and simulators, not just browsers.
* **Platform Testing:** Test on both iOS and Android platforms.
* **Touch Events:** Test touch interactions, not just mouse clicks.
